<h1 class="page-header">Groups</h1>

<button class="btn btn-success" ng-click="groups.createGroup()">
    Create new group&nbsp;
    <i class="glyphicon glyphicon glyphicon-plus"></i>
</button>

<h2 class="sub-header clickable" ng-click="groups.collapse(groups.userGroups)">
    <i class="pull-left glyphicon"
       ng-class="
           {'glyphicon-chevron-down': groups.userGroups.isCollapsed,
            'glyphicon-chevron-right': !groups.userGroups.isCollapsed}">
    </i>
    &nbsp;My groups
</h2>
<div uib-collapse="groups.userGroups.isCollapsed" class="table-responsive">
    <table class="table table-striped">
        <thead>
        <tr>
            <th class="col-xs-4">name</th>
            <th>description</th>
            <th class="col-xs-1">type</th>
            <th class="col-xs-1">actions</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="group in groups.userGroups.array">
            <td>
                <strong ng-bind="group.name"></strong>&nbsp;
                <a class="btn btn-default btn-xs" ui-sref="dashboard.group({id: group.id})">
                    <i class="glyphicon glyphicon-eye-open"></i>
                </a>
            </td>
            <td>
                <span ng-bind="group.description | truncate:50" uib-tooltip="{{group.description}}"></span>
            </td>
            <td>
                <span ng-bind="group.type" class="label" ng-class="groups.getTypeClass(group.type)"></span>
            </td>
            <td>
                <button class="btn btn-warning btn-xs" ng-click="groups.leave(group.id)">Leave</button>
            </td>
        </tr>
        </tbody>
    </table>
</div>

<h2 class="sub-header clickable" ng-click="groups.collapse(groups.otherGroups)">
    <i class="pull-left glyphicon"
       ng-class="
           {'glyphicon-chevron-down': groups.otherGroups.isCollapsed,
            'glyphicon-chevron-right': !groups.otherGroups.isCollapsed}">
    </i>
    &nbsp;Other groups
</h2>
<div uib-collapse="groups.otherGroups.isCollapsed" class="table-responsive">
    <table class="table table-striped">
        <thead>
        <tr>
            <th class="col-xs-4">name</th>
            <th>description</th>
            <th class="col-xs-1">type</th>
            <th class="col-xs-1">actions</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="group in groups.otherGroups.array">
            <td>
                <strong ng-bind="group.name"></strong>
            </td>
            <td>
                <span ng-bind="group.description | truncate:50" uib-tooltip="{{group.description}}"></span>
            </td>
            <td>
                <div ng-bind="group.type" class="label" ng-class="groups.getTypeClass(group.type)"></div>
            </td>
            <td>
                <button class="btn btn-primary btn-xs" ng-click="groups.join(group.id)">Join</button>
            </td>
        </tr>
        </tbody>
    </table>
</div>